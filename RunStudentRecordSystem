import java.util.Scanner;
import java.io.IOException;

public class RunStudentRecordSystem {
    private Scanner in;

    public RunStudentRecordSystem(){ in = new Scanner(System.in); }

    /**
      Runs the Student Record System.
      @throws IOException
     */
    public void runSystem(StudentRecordSystem srs) throws IOException {
        boolean more = true;
        while (more) {
            System.out.println("1. Student Login");
            System.out.println("2. Faculty Login");
            String command = in.nextLine().toUpperCase();

            if (command.equals("1")) {
                System.out.println("1. Get Transcript");
                System.out.println("2. Get QCA");
                System.out.println("3. Exit");
                String secondcommand = in.nextLine().toUpperCase();
                if (secondcommand.equals("1")) {
                    System.out.println("Enter Student ID: ");
                    String studentId = scanner.next();
                    displayTranscript(studentId);
                } else if (secondcommand.equals("2")) {
                    System.out.println("enter Student ID: ");
                    double qca = QcaCalculator.calculateQca("student_grades.csv");
                    System.out.println("/nQCA: " + qca);
                } else {
                    System.out.println("Leaving Program.");
                    System.exit(0);
                }
            } else {
                System.out.println("1. Add Student");
                System.out.println("2. Add Module ");
                System.out.println("3. Get Student Transcript");
                System.out.println("4. Exit");
                System.out.print("Select option: ");
                String thirdcommand = in.nextLine().toUpperCase();

                if (thirdcommand.equals("1")) {
                    System.out.println("Name: ");
                    String name = in.nextLine();
                    System.out.println("ID: ");
                    String studentId = in.nextLine();
                    System.out.println("Module: ");
                    String Module = in.nextLine();
                    System.out.println("Year Of Study: ");
                    int yearOfStudy = in.nextInt();
                    in.nextLine();
                    srs.addStudent(name, studentId, Module, yearOfStudy);
                } else if (thirdcommand.equals("2")) {
                    System.out.println("Module: ");
                    String moduleName = in.nextLine();
                    System.out.println("Module Code: ");
                    String moduleCode = in.nextLine();
                    System.out.println("Grade: ");
                    double credits = in.nextDouble();
                    srs.addModule(moduleName, moduleCode, credits);
                } else if (thirdcommand.equals("3")) {
                    System.out.println("Enter Student ID: ");
                    String studentId = scanner.next();
                    displayTranscript(studentId);
                } else {
                    System.out.println("Leaving Program.");
                    System.exit(0);
                }
            }
        }
    }

